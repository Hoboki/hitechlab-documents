# Pico モーションセンサー

モーションセンサーのピンの茶・赤・オレンジの順にPicoのVBUS・GP28・GNDに取り付ける。

<image src="images\motion_sensor_pin.jpg" width="300" style="margin: 0 auto;">

可変抵抗は、左が時間、右が感度。バランスはこのくらい。

<image src="images\motion_sensor_resistance.jpg" width="300" style="margin: 0 auto;">

Thonnyで以下のコードを実行。

```
import machine as m
import utime
from time import time
 
sensor = m.Pin(28, m.Pin.IN, m.Pin.PULL_DOWN) 
led = m.Pin(25, m.Pin.OUT)
led_red = m.Pin(11, m.Pin.OUT)

now = 0
pre = time()

def sensor_callback(Pin):
    global now
    global pre
    led.value(1)
    led_red.value(1)
    utime.sleep_ms(250)
    led.value(0)
    led_red.value(0)
    
    print("executed")
    
    now = time()
    print(now - pre)
    pre = now
         
sensor.irq(trigger = m.Pin.IRQ_RISING, handler = sensor_callback)


```

>[Raspberry Pi PicoをArduinoにしてモーションを検知してみる – スイッチサイエンス マガジン](https://mag.switch-science.com/2021/04/28/pir-with-arduino-raspberry-pi-pico/)

___

__Qustion__
